
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Preliminary sizing of a rotor blade &#8212; TUDuam  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/autodoc_pydantic.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/prop_sizing';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Structural Analysis" href="../structural_analysis.html" />
    <link rel="prev" title="Propulsion Notebook" href="../propulsion_notebook.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">TUDuam  documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../data_structures.html">
                        Data Structures
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../structures.html">
                        Structures subpackage
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../propulsion.html">
                        Propulsion
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../aerodynamics.html">
                        Aerodynamics
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../performance.html">
                        Performance
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../mass_metric.html">
                        Mass Metrics
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link dropdown-item nav-internal" href="../notebooks.html">
                        Notebooks
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../data_structures.html">
                        Data Structures
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../structures.html">
                        Structures subpackage
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../propulsion.html">
                        Propulsion
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../aerodynamics.html">
                        Aerodynamics
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../performance.html">
                        Performance
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links-2">
                    More
                </button>
                <ul id="pst-nav-more-links-2" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../mass_metric.html">
                        Mass Metrics
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link dropdown-item nav-internal" href="../notebooks.html">
                        Notebooks
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../airfoil_data.html">Airfoil data generation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="airfoil_data.html">Creating airfoil data for various Reynolds numbers</a></li>

</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../propulsion_notebook.html">Propulsion Notebook</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Preliminary sizing of a rotor blade</a></li>





</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../structural_analysis.html">Structural Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="structural_analysis.html">Please run the code cell below to correctly initialize the notebook</a></li>





</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../structural_opt.html">Structural Optimization</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="structural_optimization.html">Structural Optimization of a wingbox</a></li>





</ul>
</li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../notebooks.html" class="nav-link">Notebooks</a></li>
    
    
    <li class="breadcrumb-item"><a href="../propulsion_notebook.html" class="nav-link">Propulsion Notebook</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Preliminary...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="preliminary-sizing-of-a-rotor-blade">
<h1>Preliminary sizing of a rotor blade<a class="headerlink" href="#preliminary-sizing-of-a-rotor-blade" title="Link to this heading">#</a></h1>
<p>As previously mentioned we will use the work of Adkins and Liebeck to perform both optimisation and off design analysis. Let us start with the rotor blade optimisation.</p>
<p>The method has been implemented in Python in the package called <code class="docutils literal notranslate"><span class="pre">tuduam</span></code>, i.e TU Delft Urban Air Mobility. Hence, when creating the input we have to keep in mind the <a class="reference external" href="https://saullocastro.github.io/tuduam/">documentation</a>  </span> on what the functions expect. Feel free to roam around the documentation to see what other functionalities are offered by the package. Keep in mind however that the package is under active development.</p>
<p>The design is initiated with the specified conditions of power (or thrust), hub and tip radius, rotational rate, freestream velocity, number of blades, and a finite number of stations at which blade geometry is to be determined. Let us define this in the next block</p>
<section id="defining-the-conditions">
<h2>Defining the conditions<a class="headerlink" href="#defining-the-conditions" title="Link to this heading">#</a></h2>
<p>Most of the code below does not need explaining, however as previously mentioned we must take into account the <a class="reference external" href="https://saullocastro.github.io/tuduam/">API documentation</a> .</span> Here it says that the blade parameter must be defined in the <code class="docutils literal notranslate"><span class="pre">Propeller</span></code> data structure. Furthermore, BEM analysis requires airfoil polar at a large range of reynolds numbers. <code class="docutils literal notranslate"><span class="pre">tuduam</span></code> relies on the user to input this data in the form of a path to a directory which contains all the polars. These files should be in the common format outputted by <a class="reference external" href="https://web.mit.edu/drela/Public/web/xfoil/">xfoil</a>. A tutorial on how to create this data has also been made which can be found in the course. Sample data for the NACA 4412 is readily available however in the <code class="docutils literal notranslate"><span class="pre">tuduam</span></code> repository. The NACA 4412 is shown in <a class="reference internal" href="#figure1"><span class="xref myst">Figure 1</span></a></p>
<br>
<p align="center"  id="figure1" >
<img src="https://raw.githubusercontent.com/saullocastro/tuduam/93cd6ee8368661ba99f1f0b222a4535df1994bab/notebooks/static/naca4412-il.svg" width="400" /> 
 <br>
</p>
<p align="center">
<em>Figure 1: The NACA 4412 airfoil</em>
</p>
<br>
<p>The conditions required for the optimisation are loaded into the Python kernel below. Carefully read the comments surrounding the code for more pointers. Note that the repository makes use of data structures in order to limit input size into functions, in this case we have to make use of the <code class="docutils literal notranslate"><span class="pre">Propeller</span></code> data structure.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>tuduam
<span class="o">!</span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/saullocastro/tuduam.git
<span class="c1"># If the following error occurs &quot;fatal: destination path &#39;tuduam&#39; already exists and is not an empty directory.&quot; please continue as your environment is already set up correctly</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: tuduam in c:\users\damie\anaconda3\envs\tuduam_notebook\lib\site-packages (2024.15)
Requirement already satisfied: numpy in c:\users\damie\anaconda3\envs\tuduam_notebook\lib\site-packages (from tuduam) (1.26.4)
Requirement already satisfied: scipy in c:\users\damie\anaconda3\envs\tuduam_notebook\lib\site-packages (from tuduam) (1.12.0)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cloning into &#39;tuduam&#39;...
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">tuduam</span> <span class="k">as</span> <span class="nn">tud</span>
<span class="kn">import</span> <span class="nn">rich</span>
<span class="kn">import</span> <span class="nn">tuduam.propulsion</span> <span class="k">as</span> <span class="nn">prop</span>

<span class="c1"># Define parameters required according to API documentation</span>
<span class="n">data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">),</span> <span class="s1">&#39;tuduam&#39;</span><span class="p">,</span> <span class="s1">&#39;examples&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">))</span> <span class="c1"># Path to airfoil data</span>
<span class="n">coord_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">),</span> <span class="s1">&#39;tuduam&#39;</span><span class="p">,</span> <span class="s1">&#39;examples&#39;</span><span class="p">,</span> <span class="s1">&#39;naca_4412.txt&#39;</span><span class="p">))</span> <span class="c1"># Path to airfoil coordinates</span>
<span class="n">n_stations</span> <span class="o">=</span> <span class="mi">25</span> <span class="c1"># number of stations</span>

<span class="c1"># Define operational parameters</span>
<span class="n">thrust_req</span> <span class="o">=</span> <span class="mi">400</span> <span class="c1"># N</span>
<span class="n">v_cruise</span> <span class="o">=</span> <span class="mi">210</span><span class="o">/</span><span class="mf">3.6</span>  <span class="c1">#m/s</span>
<span class="n">h_cruise</span> <span class="o">=</span> <span class="mi">1200</span>  <span class="c1"># m</span>
<span class="n">isa</span> <span class="o">=</span> <span class="n">tud</span><span class="o">.</span><span class="n">ISA</span><span class="p">(</span><span class="n">h_cruise</span><span class="p">)</span>  <span class="c1"># ISA altitude class</span>
<span class="n">a_snd</span> <span class="o">=</span> <span class="n">isa</span><span class="o">.</span><span class="n">soundspeed</span><span class="p">()</span> <span class="c1"># Speed of sound m/s</span>
<span class="n">rho_cr</span> <span class="o">=</span> <span class="n">isa</span><span class="o">.</span><span class="n">density</span><span class="p">()</span> <span class="c1"># Air density kg/m^3 </span>
<span class="n">dyn_vis</span> <span class="o">=</span> <span class="n">isa</span><span class="o">.</span><span class="n">viscosity_dyn</span><span class="p">()</span> <span class="c1"># Dynamic viscosity Pa*s</span>

<span class="c1"># Define the specified conditions for the propeller geometry in the data structure</span>
<span class="n">prop_class</span> <span class="o">=</span> <span class="n">tud</span><span class="o">.</span><span class="n">Propeller</span><span class="p">(</span>
                    <span class="n">n_blades</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="c1"># Number of blades</span>
                    <span class="n">r_prop</span><span class="o">=</span><span class="mf">0.55</span><span class="p">,</span> <span class="c1"># propeller radius  m</span>
                    <span class="n">rpm_cruise</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span> <span class="c1"># revolutions per minute</span>
                    <span class="n">tc_ratio</span><span class="o">=</span><span class="mf">0.12</span><span class="p">,</span>  <span class="c1"># Thickness to chord ratio of airfoil</span>
                    <span class="n">xi_0</span><span class="o">=</span><span class="mf">0.1</span> <span class="c1"># nondimensional hub radius (r_hub/R)</span>
                    <span class="p">)</span> 

<span class="n">rich</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">a_snd</span><span class="si">=}</span><span class="s2">  </span><span class="se">\n</span><span class="si">{</span><span class="n">rho_cr</span><span class="si">=}</span><span class="s2">  </span><span class="se">\n</span><span class="si">{</span><span class="n">dyn_vis</span><span class="si">=}</span><span class="s2">  </span><span class="se">\n</span><span class="si">{</span><span class="n">prop_class</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #808000; text-decoration-color: #808000">a_snd</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">335.62572904948746</span>  
<span style="color: #808000; text-decoration-color: #808000">rho_cr</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.0899402822825992</span>  
<span style="color: #808000; text-decoration-color: #808000">dyn_vis</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.7736932645281385e-05</span>  
<span style="color: #808000; text-decoration-color: #808000">prop_class</span>=<span style="color: #800080; text-decoration-color: #800080; font-weight: bold">Propeller</span><span style="font-weight: bold">(</span><span style="color: #808000; text-decoration-color: #808000">n_blades</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">6.0</span>, <span style="color: #808000; text-decoration-color: #808000">r_prop</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.55</span>, <span style="color: #808000; text-decoration-color: #808000">rpm_cruise</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1200.0</span>, <span style="color: #808000; text-decoration-color: #808000">xi_0</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.1</span>, <span style="color: #808000; text-decoration-color: #808000">chord_arr</span>=<span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>, <span style="color: #808000; text-decoration-color: #808000">rad_arr</span>=<span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>, 
<span style="color: #808000; text-decoration-color: #808000">pitch_arr</span>=<span style="color: #800080; text-decoration-color: #800080; font-style: italic">None</span>, <span style="color: #808000; text-decoration-color: #808000">tc_ratio</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.12</span><span style="font-weight: bold">)</span>
</pre>
</div></div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="running-the-optimisation">
<h1>Running the optimisation<a class="headerlink" href="#running-the-optimisation" title="Link to this heading">#</a></h1>
<p>Having defined the conditions we now run the actual optimisation. In the code it will be as simple as calling a single line however there is much going on in the background. A general overview of procedure is described here however for a full description refer to the paper (download link available in the course in sources).</p>
<p>The general procedure can be condensed to the following:</p>
<ol class="arabic simple">
<li><p>Select an initial estimate for <span class="math notranslate nohighlight">\(\zeta\)</span>, the displacement velocity ratio (<span class="math notranslate nohighlight">\(\zeta\)</span> = 0 will work).</p></li>
<li><p>Determine the values for <span class="math notranslate nohighlight">\(F\)</span>, the Prandtl momentum loss factor, and <span class="math notranslate nohighlight">\(\phi\)</span>, the flow angle, at each blade station.</p></li>
<li><p>Determine the product <span class="math notranslate nohighlight">\(Wc\)</span>, the local velocity multiplied by the local chord. Additionally, compute the Reynolds number.</p></li>
<li><p>Determine <span class="math notranslate nohighlight">\(\epsilon\)</span>, the drag-to-lift ratio, and <span class="math notranslate nohighlight">\(\alpha\)</span>, the angle of attack, from airfoil section data.</p></li>
<li><p>If <span class="math notranslate nohighlight">\(\epsilon\)</span> is to be minimized, change <span class="math notranslate nohighlight">\(C_l\)</span>, and repeat Steps 3 and 4 until this is accomplished at each station.</p></li>
<li><p>Determine <span class="math notranslate nohighlight">\(\alpha\)</span> and <span class="math notranslate nohighlight">\(\alpha'\)</span>, the axial and rotational interference factor, respectively.</p></li>
<li><p>Compute the chord from Step 3, and the blade twist <span class="math notranslate nohighlight">\(\beta = \alpha + \phi\)</span>.</p></li>
<li><p>Determine the four derivatives in I and J, and numerically integrate these from the non-dimensional hub radius, <span class="math notranslate nohighlight">\(\xi_0\)</span> to the non-dimensional radius <span class="math notranslate nohighlight">\(\xi\)</span> = 1.</p></li>
<li><p>Determine <span class="math notranslate nohighlight">\(\zeta\)</span> and <span class="math notranslate nohighlight">\(T_c\)</span>, the thrust coefficient.</p></li>
<li><p>If this new value for <span class="math notranslate nohighlight">\(\zeta\)</span> is not sufficiently close to the old one (e.g., within 0.1%), start over at step 2 using the new <span class="math notranslate nohighlight">\(\zeta\)</span>.</p></li>
<li><p>Determine propeller efficiency as <span class="math notranslate nohighlight">\(\eta = \frac{T}{P_c}\)</span>, and other features such as solidity.</p></li>
</ol>
<p>Let us now run the optimisation and plot the resulting blade geometry. The plotting is performed using a class called <code class="docutils literal notranslate"><span class="pre">PlotBlade</span></code>, which has a method for both a 3D and 2D plot. Feel free to play with the parameters of the rotor by rerunning the above code box with new parameters. Note that the optimisation will crash however for infeasible designs.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Initialise BEM class</span>
<span class="n">design</span> <span class="o">=</span> <span class="n">prop</span><span class="o">.</span><span class="n">BEM</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="n">prop_class</span><span class="p">,</span> <span class="n">rho_cr</span><span class="p">,</span> 
                  <span class="n">dyn_vis</span><span class="p">,</span> <span class="n">v_cruise</span><span class="p">,</span> <span class="n">n_stations</span><span class="p">,</span> <span class="n">a_snd</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="n">thrust_req</span><span class="p">)</span>

<span class="c1"># Execute the BEM optimisation with initial estimate of 0</span>
<span class="n">res_dict</span> <span class="o">=</span> <span class="n">design</span><span class="o">.</span><span class="n">optimise_blade</span><span class="p">(</span><span class="n">zeta_init</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Print the resulting dictionary </span>
<span class="n">rich</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">res_dict</span><span class="p">)</span>
<span class="n">rich</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;power required = </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">res_dict</span><span class="p">[</span><span class="s2">&quot;pc&quot;</span><span class="p">]</span><span class="o">*</span><span class="n">rho_cr</span><span class="o">*</span><span class="p">(</span><span class="n">prop_class</span><span class="o">.</span><span class="n">rpm_cruise</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span><span class="o">*</span><span class="mi">32</span><span class="o">*</span><span class="n">prop_class</span><span class="o">.</span><span class="n">r_prop</span><span class="o">**</span><span class="mi">5</span><span class="o">/</span><span class="mf">1e3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s1"> Kw&#39;</span><span class="p">)</span>

<span class="c1"># Plot the resulting blade geometry </span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">prop</span><span class="o">.</span><span class="n">PlotBlade</span><span class="p">(</span><span class="n">prop_class</span><span class="p">,</span> <span class="n">coord_path</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-weight: bold">{</span>
    <span style="color: #008000; text-decoration-color: #008000">'chord_arr'</span>: <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">array</span><span style="font-weight: bold">([</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.06450542</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.0815267</span> , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.0970076</span> , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.11083296</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.12292547</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.13324371</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.14178268</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.1484006</span> , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.15344058</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.15682568</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.15863253</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.1589442</span> , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.15784599</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.15542109</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.15174425</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.14687961</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.14087312</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.13374916</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.12549776</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.11606204</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.1054556</span> , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.0931046</span> , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.07862803</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.06075668</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.03493964</span><span style="font-weight: bold">])</span>,
    <span style="color: #008000; text-decoration-color: #008000">'pitch_arr'</span>: <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">array</span><span style="font-weight: bold">([</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.50066203</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.46814551</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.43597542</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.4042232</span> , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.37295481</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.34048482</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.31210253</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.27738256</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.24858189</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.22049744</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.19315549</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.16657602</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.14077307</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.11575523</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.09152613</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.06808489</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.0436814</span> , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.02179809</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.00067843</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.98030877</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.96416404</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.94524556</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.92702529</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.90948357</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.89260002</span><span style="font-weight: bold">])</span>,
    <span style="color: #008000; text-decoration-color: #008000">'alpha_arr'</span>: <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">array</span><span style="font-weight: bold">([</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.04363323</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.04537856</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.04712389</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.04886922</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.05061455</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.05061455</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.05410521</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.05061455</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.05235988</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.05410521</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.05585054</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.05759587</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.05934119</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.06108652</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.06283185</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.06457718</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.06457718</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.06632251</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.06806784</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.06981317</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.07504916</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.07679449</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.07853982</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.08028515</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.08203047</span><span style="font-weight: bold">])</span>,
    <span style="color: #008000; text-decoration-color: #008000">'station_arr'</span>: <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">array</span><span style="font-weight: bold">([</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.0649</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.0847</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.1045</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.1243</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.1441</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.1639</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.1837</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.2035</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.2233</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.2431</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.2629</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.2827</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.3025</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.3223</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.3421</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.3619</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.3817</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.4015</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.4213</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.4411</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.4609</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.4807</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.5005</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.5203</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.5401</span><span style="font-weight: bold">])</span>,
    <span style="color: #008000; text-decoration-color: #008000">'drag_to_lift_arr'</span>: <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">array</span><span style="font-weight: bold">([</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02467022</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02453238</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02441314</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02412773</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02379947</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02349407</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02362806</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00833238</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00831749</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.0082426</span> ,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00819419</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00815943</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00812609</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00811742</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00807504</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00803422</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00794982</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00791248</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00788762</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00788581</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02165054</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02161504</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02146528</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02128869</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02137814</span><span style="font-weight: bold">])</span>,
    <span style="color: #008000; text-decoration-color: #008000">'v_e'</span>: <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">84.42019742325951</span>,
    <span style="color: #008000; text-decoration-color: #008000">'solidity'</span>: <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">array</span><span style="font-weight: bold">([</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.94912391</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.91915302</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.88646351</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.85146964</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.81460912</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.77631708</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.73703042</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.69637412</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.65617987</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.61603246</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.57619974</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.53689612</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.49828701</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.46049087</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.42357523</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.38756479</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.35243364</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.31810968</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.28445652</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.25126068</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.21849139</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.18495599</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.15001845</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.11150943</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.06177541</span><span style="font-weight: bold">])</span>,
    <span style="color: #008000; text-decoration-color: #008000">'cl'</span>: <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">array</span><span style="font-weight: bold">([</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.74153846</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.75207692</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.76261538</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.77315385</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.78369231</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.79423077</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.80476923</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.81530769</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.82584615</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.83638462</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.84692308</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.85746154</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.868</span>     , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.87853846</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.88907692</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.89961538</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.91015385</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.92069231</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.93123077</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.94176923</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.95230769</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.96284615</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.97338462</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.98392308</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.99446154</span><span style="font-weight: bold">])</span>,
    <span style="color: #008000; text-decoration-color: #008000">'cd'</span>: <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">array</span><span style="font-weight: bold">([</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.01829392</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.01845023</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.01861784</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.01865444</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.01865146</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.01865971</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.01901514</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00679345</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00686897</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00689399</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00693985</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.0069964</span> , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00705345</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00713147</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00717933</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.0072277</span> , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00723556</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00728496</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00734519</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.00742662</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02061798</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02081196</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02089398</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02094644</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02125974</span><span style="font-weight: bold">])</span>,
    <span style="color: #008000; text-decoration-color: #008000">'eff'</span>: <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.7873405743678134</span>,
    <span style="color: #008000; text-decoration-color: #008000">'tc'</span>: <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.2269752189628377</span>,
    <span style="color: #008000; text-decoration-color: #008000">'pc'</span>: <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.28828086136051734</span>,
    <span style="color: #008000; text-decoration-color: #008000">'zeta'</span>: <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.44719577704754987</span>
<span style="font-weight: bold">}</span>
</pre>
</div><div class="output text_html"><pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">power required = <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4.05</span> Kw
</pre>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Plot 2D outputs</span>
<span class="n">plot</span><span class="o">.</span><span class="n">plot_blade</span><span class="p">()</span> <span class="c1"># Creates two 2D plots</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/2d4310409b04950213b76a5a7dc27b95707ac29a66073ee49d999d2e4b1fa8f6.png" src="../_images/2d4310409b04950213b76a5a7dc27b95707ac29a66073ee49d999d2e4b1fa8f6.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Plot 3D outputs</span>
<span class="n">plot</span><span class="o">.</span><span class="n">plot_3D_plotly</span><span class="p">()</span> <span class="c1"># Creates an interactive 3D plot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="offdesign-analysis">
<h1>Offdesign analysis<a class="headerlink" href="#offdesign-analysis" title="Link to this heading">#</a></h1>
<p>We now have an optimised blade which is stored in the <code class="docutils literal notranslate"><span class="pre">Propeller</span></code> data structure and in the output of the function, i.e <code class="docutils literal notranslate"><span class="pre">res_dict</span></code>. We can do a quick test in order to check this.  Run the following cell to see what the data structure now contains. As seen it now contains 3 extra arrays describing the propeller blade.</p>
<p>We would now like to test whether it can meet a certain off design condition. If you want to know more about  a specific step, please refer to the paper which is available on the course site. The general procedure for doing so is as follows:</p>
<ol class="arabic simple">
<li><p>Specify a freestream velocity, RPM and <span class="math notranslate nohighlight">\(\Delta \beta\)</span></p></li>
<li><p>Make in initial estimate on the flow angle using <span class="math notranslate nohighlight">\(\phi = \frac{\lambda}{\xi}\)</span> where <span class="math notranslate nohighlight">\(\xi\)</span> is the nondimensional spanwise location and <span class="math notranslate nohighlight">\(\lambda= \frac{V_{inf}}{\omega*R} \)</span></p></li>
<li><p>Since <span class="math notranslate nohighlight">\(\beta\)</span> is known, compute <span class="math notranslate nohighlight">\(\alpha = \beta - \phi\)</span> and the Reynolds number at each station.</p></li>
<li><p>The airfoil coefficients are then known from the airfoil section data.</p></li>
<li><p>The new estimate for <span class="math notranslate nohighlight">\(\phi\)</span> can then be computed as in equation 1. Let a and <span class="math notranslate nohighlight">\(a`\)</span> be the axial and rotational interference factor, r the local radius and V the freestream velocity. Note that a and <span class="math notranslate nohighlight">\(a`\)</span>  are clipped to -0.7 and 0.7 respectively. This is required for adequate convergence near the tip (Viterna and Janetzke (1981)). For more details please see Adkins and Liebeck (1984) on the course site.</p></li>
</ol>
<div class="math notranslate nohighlight">
\[
\begin{equation}
\tag{1}
\tan \phi = \frac{V(1 + a)}{\Omega r (1 -  a`)}
\end{equation}
\]</div>
<ol class="arabic simple" start="6">
<li><p>Steps 1 to 5 are then repeated until convergence is reached.</p></li>
<li><p>The thrust and torque per unit radius can then be found using:</p></li>
</ol>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
\tag{2}
T` &amp; = \frac{1}{2} \rho W^2 cB  C_y \\ 
\tag{3}
Q`/r &amp; = \frac{1}{2} \rho W^2 cB  C_x \\
\end{align}
\end{split}\]</div>
<ol class="arabic simple" start="8">
<li><p>Then finally the thrust and power coefficient are defined as folows. Where n is the revolutions per second.</p></li>
</ol>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
\tag{4}
C_T &amp; = \frac{T}{\rho n^2  D^4} \\
\tag{5}
C_P &amp; = \frac{P}{\rho n^3  D^5} \\
\end{align}
\end{split}\]</div>
<p>Finally, this can then be integrated. In the source code this is done using a simple trapezoid integration, more specifically  the <code class="docutils literal notranslate"><span class="pre">scipy.integrate.trapezoid</span></code> function.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="hover-example">
<h1>Hover example<a class="headerlink" href="#hover-example" title="Link to this heading">#</a></h1>
<p>Let’s do an sample example of a vtol rising vertically to see how this would look like using the <code class="docutils literal notranslate"><span class="pre">tuduam</span></code> repository. The inflow from the freestream is now significantly reduced. The parameter that significantly changes is the freestream velocity, the only significant component left is the induced velocity caused by the rotor. Determining the value of the induced velocity is difficult, engineering judgement is used. [1] mentions an equation to estimate it however it is only reliable for higher flight speeds. Thus in our script we have assumed the freestream velocity to be 10 m/s.</p>
<p>Furthermore it is important to consider how we should change our pitch control of the rotor.  As seen in <a class="reference internal" href="#figure2"><span class="xref myst">Figure 2</span></a>, the resultant relative wind will lay nearly in parrallel to tip-path axis. Therefore if we would keep the same pitch as the one during cruise the blade will most surely stall. The implication in the code being an error that an angle of attack outside of the dataset has been encountered.</p>
<p align="center"  id="figure2" style="background-color: white;">
<img src="https://github.com/saullocastro/tuduam/blob/main/doc/source/notebooks/static/hover_blade_cross_sectin.gif?raw=true" width="400" /> 
 <br>
</p>
<p>Therefore we would like to lower our pitch angle. To increase the thrust for hover we would like to increase our RPM. However keep in mind that our rpm is limited by the onset of shock waves at the tip of the blade. Thus we have to compute the maximum rpm and limit the rpm to that value.  We will now analyse the propeller at a singular offdesign conditions. Namely a freestream velocity of 10 m/s, a maximum mach number of 0.7 at the tip and a 39 degree decrease in pitch on the rotor blades. Read and run the code below for the results.</p>
<section id="sources">
<h2>Sources<a class="headerlink" href="#sources" title="Link to this heading">#</a></h2>
<p>[1] Castles, W. Jr., &amp; De Leeuw, J. H. (1954). The normal component of the induced velocity in the vicinity of a lifting rotor and some examples of its application (Report No. 1184). Georgia Institute of Technology.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="kn">import</span> <span class="n">minimize</span>

<span class="c1"># Define constants required for analysis</span>
<span class="n">mach_max</span> <span class="o">=</span> <span class="mf">0.7</span> <span class="c1"># Point when shockwave occurs over the airfoil</span>
<span class="n">isa</span> <span class="o">=</span> <span class="n">tud</span><span class="o">.</span><span class="n">ISA</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># Assume sea level</span>
<span class="n">rho</span> <span class="o">=</span> <span class="n">isa</span><span class="o">.</span><span class="n">density</span><span class="p">()</span>
<span class="n">dyn_vis</span> <span class="o">=</span> <span class="n">isa</span><span class="o">.</span><span class="n">viscosity_dyn</span><span class="p">()</span>
<span class="n">a_snd</span> <span class="o">=</span> <span class="n">isa</span><span class="o">.</span><span class="n">soundspeed</span><span class="p">()</span>

<span class="c1"># Operations conditions</span>
<span class="n">vtip_max</span> <span class="o">=</span>  <span class="n">mach_max</span><span class="o">*</span><span class="n">a_snd</span>
<span class="n">omega_max</span> <span class="o">=</span> <span class="n">vtip_max</span><span class="o">/</span><span class="n">prop_class</span><span class="o">.</span><span class="n">r_prop</span>
<span class="n">rpm_hvr</span> <span class="o">=</span> <span class="n">omega_max</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span><span class="o">*</span><span class="mi">60</span> <span class="c1"># Vertical speed of the vtol</span>
<span class="n">v_hvr</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1"># Vertical speed of the vtol plus additional </span>
<span class="n">delta_pitch</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="o">-</span><span class="mi">39</span><span class="p">)</span>

<span class="n">rich</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">rpm_hvr</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">hover_cond</span> <span class="o">=</span> <span class="n">prop</span><span class="o">.</span><span class="n">OffDesignAnalysisBEM</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="n">prop_class</span><span class="p">,</span> <span class="n">v_hvr</span><span class="p">,</span> <span class="n">rpm_hvr</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">dyn_vis</span><span class="p">,</span> <span class="n">a_snd</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">hover_cond</span><span class="o">.</span><span class="n">analyse_propeller</span><span class="p">(</span><span class="n">delta_pitch</span><span class="p">,</span> <span class="n">abs_extrapolation</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>

<span class="n">power_req</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s2">&quot;power_coeff&quot;</span><span class="p">]</span><span class="o">*</span><span class="n">rho</span><span class="o">*</span><span class="p">(</span><span class="n">rpm_hvr</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span><span class="o">*</span><span class="mi">32</span><span class="o">*</span><span class="n">prop_class</span><span class="o">.</span><span class="n">r_prop</span><span class="o">**</span><span class="mi">5</span><span class="o">/</span><span class="mf">1e3</span>

<span class="n">rich</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="n">rich</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The power required for a single rotor is </span><span class="si">{</span><span class="n">power_req</span><span class="si">}</span><span class="s2"> kW&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #808000; text-decoration-color: #808000">rpm_hvr</span>=<span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4135.43320654644</span>
</pre>
</div><div class="output text_html"><pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-weight: bold">{</span>
    <span style="color: #008000; text-decoration-color: #008000">'thrust'</span>: <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">4880.664989838316</span>,
    <span style="color: #008000; text-decoration-color: #008000">'torque'</span>: <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">294.0218860337935</span>,
    <span style="color: #008000; text-decoration-color: #008000">'eff'</span>: <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.3833096128070276</span>,
    <span style="color: #008000; text-decoration-color: #008000">'thrust_coeff'</span>: <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.5728390932248073</span>,
    <span style="color: #008000; text-decoration-color: #008000">'power_coeff'</span>: <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.1971153712449012</span>,
    <span style="color: #008000; text-decoration-color: #008000">'AoA'</span>: <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">array</span><span style="font-weight: bold">([</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.12277787</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.21520819</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.27347206</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.31892348</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.34060297</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.34950426</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.34547205</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.35195982</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.33585566</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.32746425</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.31953733</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.30883281</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.29703362</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.28429357</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.27132936</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.25596598</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.24239548</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.22354675</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.2082226</span> , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.19300554</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.18230526</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.17562534</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.16223733</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.14912745</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.13591189</span><span style="font-weight: bold">])</span>,
    <span style="color: #008000; text-decoration-color: #008000">'lift_coeff'</span>: <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">array</span><span style="font-weight: bold">([</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.19482265</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.35056012</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.40478863</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.1920388</span> , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.19503635</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.19855278</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.55793305</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.55460521</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.58987287</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.6089598</span> ,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.63197297</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.6621659</span> , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.70106215</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.72257239</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.73685942</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.75631737</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.76430709</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.73880235</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.71841164</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.6939743</span> ,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.67804967</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.74210487</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.73295633</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.7226558</span> , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.67964973</span><span style="font-weight: bold">])</span>,
    <span style="color: #008000; text-decoration-color: #008000">'drag_coeff'</span>: <span style="color: #800080; text-decoration-color: #800080; font-weight: bold">array</span><span style="font-weight: bold">([</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02334077</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.04634767</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.08521674</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.14794629</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.14831832</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.14875475</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.11732507</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02192104</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.10682134</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02643343</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.09170785</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.08135113</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.06912503</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.06115158</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.05001949</span>,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.0637648</span> , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.081345</span>  , <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.10155172</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02521023</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.022538</span>  ,
       <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.18440827</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.02069385</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.01885703</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.01682833</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">0.03141791</span><span style="font-weight: bold">])</span>
<span style="font-weight: bold">}</span>
</pre>
</div><div class="output text_html"><pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">The power required for a single rotor is <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">127.32957449453333</span> kW
</pre>
</div></div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="finding-the-max-thrust-of-a-blade">
<h1>Finding the max thrust of a blade<a class="headerlink" href="#finding-the-max-thrust-of-a-blade" title="Link to this heading">#</a></h1>
<p>Let us now try a range of values for the both the change in pitch and rpm values to see if we can achieve better thrust values. We could opt to use <code class="docutils literal notranslate"><span class="pre">scipy.optimize</span></code> for this purpose however the analysis is prone to failure due to either to high AoA or a non-converging solution. This will complicate the optimisation where we’ll have to assign penalization when such an error occurs. Instead we’ll use a  brute force method since the analysis is swift. We’ll create a mesh where x will be the rpm and y the pitch. Then for each coordinate we’ll compute the thrust, after which a surface plot can be created. This is implemented below, the cell takes about 30 seconds to run, so some patience is required.</p>
<p>Feel free to play with the parameters!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>

<span class="n">n</span> <span class="o">=</span> <span class="mi">14</span> <span class="c1"># Mesh size</span>

<span class="n">pitch_arr</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="n">rpm_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">2500</span><span class="p">,</span><span class="n">rpm_hvr</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="n">X</span><span class="p">,</span><span class="n">Y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">rpm_arr</span><span class="p">,</span><span class="n">pitch_arr</span><span class="p">)</span>
<span class="n">Z_thrust</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">Z_eff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">Z_power</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">rpm</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">rpm_arr</span><span class="p">):</span>
    <span class="n">hover_cond</span> <span class="o">=</span> <span class="n">prop</span><span class="o">.</span><span class="n">OffDesignAnalysisBEM</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="n">prop_class</span><span class="p">,</span> <span class="n">v_hvr</span><span class="p">,</span> <span class="n">rpm</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">dyn_vis</span><span class="p">,</span> <span class="n">a_snd</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">row</span><span class="p">,</span> <span class="n">dpitch</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">pitch_arr</span><span class="p">)):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">hover_cond</span><span class="o">.</span><span class="n">analyse_propeller</span><span class="p">(</span><span class="n">dpitch</span><span class="p">,</span> <span class="n">abs_extrapolation</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="n">power_req</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s2">&quot;power_coeff&quot;</span><span class="p">]</span><span class="o">*</span><span class="n">rho</span><span class="o">*</span><span class="p">(</span><span class="n">rpm_hvr</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span><span class="o">*</span><span class="mi">32</span><span class="o">*</span><span class="n">prop_class</span><span class="o">.</span><span class="n">r_prop</span><span class="o">**</span><span class="mi">5</span><span class="o">/</span><span class="mf">1e3</span>

        <span class="n">Z_thrust</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s2">&quot;thrust&quot;</span><span class="p">]</span>
        <span class="n">Z_eff</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s2">&quot;eff&quot;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span>
        <span class="n">Z_power</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span>  <span class="n">power_req</span>


<span class="c1"># Create the figure</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">go</span><span class="o">.</span><span class="n">Surface</span><span class="p">(</span><span class="n">z</span><span class="o">=</span><span class="n">Z_thrust</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">Y</span><span class="p">)])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">scene</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;RPM&#39;</span><span class="p">,</span>
        <span class="n">yaxis_title</span><span class="o">=</span> <span class="s1">&#39;Delta pitch [deg]&#39;</span><span class="p">,</span>
        <span class="n">zaxis_title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Thrust [N]&#39;</span><span class="p">))</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">scene_camera</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">eye</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">1.8</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.8</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mf">1.8</span><span class="p">)))</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Thrust plot </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1"> x </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1"> mesh &#39;</span><span class="p">,</span> <span class="n">autosize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">90</span><span class="p">))</span>

<span class="c1"># Show the plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="iteration-of-the-rotor-design">
<h1>Iteration of the rotor design.<a class="headerlink" href="#iteration-of-the-rotor-design" title="Link to this heading">#</a></h1>
<p>So what happens if the maximum thrust we find is not sufficient? Remember when a thrust or power value was specified for which the rotor would be optimized? We can increase this value  to increase the maximum thrust value, this however does come at a cost that the blade is less efficient at the cruise setting. With the updated geometry we can then perform the offdesign analysis again to find the newly acquired maximum thrust. This process is then repeated until the engineer is  sufficiently happy with the margin on the maximum thrust and the design thrust of the propeller.</p>
<p>The opportunity is given below to go through this process yourself with the code cell below where all of the relevant code has been appended. The mesh spacing has been increased to decrease computation time, however when nearing to your final design you can decrease the mesh spacing again. The design point is described in the first few lines of code. Sometimes the results are odd with the majority failing or having no solution at all. In this case it is advised to increase the radius of your propeller or change the amount of blades to reduce disk and/or blade loading.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define operatonal parameters</span>
<span class="n">thrust_req</span> <span class="o">=</span> <span class="mi">350</span>
<span class="n">v_cruise</span> <span class="o">=</span> <span class="mi">210</span><span class="o">/</span><span class="mf">3.6</span>
<span class="n">h_cruise</span> <span class="o">=</span> <span class="mi">1200</span>
<span class="n">isa</span> <span class="o">=</span> <span class="n">tud</span><span class="o">.</span><span class="n">ISA</span><span class="p">(</span><span class="n">h_cruise</span><span class="p">)</span> 
<span class="n">a_snd</span> <span class="o">=</span> <span class="n">isa</span><span class="o">.</span><span class="n">soundspeed</span><span class="p">()</span> <span class="c1"># Speed of sound</span>
<span class="n">rho_cr</span> <span class="o">=</span> <span class="n">isa</span><span class="o">.</span><span class="n">density</span><span class="p">()</span> <span class="c1"># Air density</span>
<span class="n">dyn_vis</span> <span class="o">=</span> <span class="n">isa</span><span class="o">.</span><span class="n">viscosity_dyn</span><span class="p">()</span> <span class="c1"># Dynamic viscosity</span>

<span class="c1"># Define the specified conditions for the propeller geometry in the data structure</span>
<span class="n">prop_class</span> <span class="o">=</span> <span class="n">tud</span><span class="o">.</span><span class="n">Propeller</span><span class="p">(</span>
                    <span class="n">n_blades</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="c1"># Number of blades</span>
                    <span class="n">r_prop</span><span class="o">=</span><span class="mf">0.525</span><span class="p">,</span> <span class="c1"># propeller radius</span>
                    <span class="n">rpm_cruise</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span> 
                    <span class="n">tc_ratio</span><span class="o">=</span><span class="mf">0.12</span><span class="p">,</span>  <span class="c1"># Thickness to chord ratio of airfoil</span>
                    <span class="n">xi_0</span><span class="o">=</span><span class="mf">0.1</span> <span class="c1"># nondimensional hub radius (r_hub/R)</span>
                    <span class="p">)</span> 

<span class="c1">#---------------------------- Blade geometry optimization ---------------------------------</span>
<span class="c1"># Initiazlie BEM class</span>
<span class="n">design</span> <span class="o">=</span> <span class="n">prop</span><span class="o">.</span><span class="n">BEM</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="n">prop_class</span><span class="p">,</span> <span class="n">rho_cr</span><span class="p">,</span> 
                  <span class="n">dyn_vis</span><span class="p">,</span> <span class="n">v_cruise</span><span class="p">,</span> <span class="n">n_stations</span><span class="p">,</span> <span class="n">a_snd</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="n">thrust_req</span><span class="p">)</span>

<span class="c1"># Execute the BEM optimisation with initial estimate of 0</span>
<span class="n">res_dict</span> <span class="o">=</span> <span class="n">design</span><span class="o">.</span><span class="n">optimise_blade</span><span class="p">(</span><span class="n">zeta_init</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">prop</span><span class="o">.</span><span class="n">PlotBlade</span><span class="p">(</span><span class="n">prop_class</span><span class="p">,</span> <span class="n">coord_path</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">plot_3D_plotly</span><span class="p">()</span> <span class="c1"># Creates an interactive 3D plot</span>

<span class="c1">#------------------- Off design analysis ---------------------------------------------------------</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">5</span> <span class="c1"># Mesh size</span>

<span class="n">pitch_arr</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="n">rpm_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">2500</span><span class="p">,</span><span class="n">rpm_hvr</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="n">X</span><span class="p">,</span><span class="n">Y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">rpm_arr</span><span class="p">,</span><span class="n">pitch_arr</span><span class="p">)</span>
<span class="n">Z_thrust</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">Z_eff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">Z_power</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">rpm</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">rpm_arr</span><span class="p">):</span>
    <span class="n">hover_cond</span> <span class="o">=</span> <span class="n">prop</span><span class="o">.</span><span class="n">OffDesignAnalysisBEM</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="n">prop_class</span><span class="p">,</span> <span class="n">v_hvr</span><span class="p">,</span> <span class="n">rpm</span><span class="p">,</span> <span class="n">rho</span><span class="p">,</span> <span class="n">dyn_vis</span><span class="p">,</span> <span class="n">a_snd</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">row</span><span class="p">,</span> <span class="n">dpitch</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">pitch_arr</span><span class="p">)):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">hover_cond</span><span class="o">.</span><span class="n">analyse_propeller</span><span class="p">(</span><span class="n">dpitch</span><span class="p">,</span> <span class="n">abs_extrapolation</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="n">power_req</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s2">&quot;power_coeff&quot;</span><span class="p">]</span><span class="o">*</span><span class="n">rho</span><span class="o">*</span><span class="p">(</span><span class="n">rpm_hvr</span><span class="o">/</span><span class="mi">60</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span><span class="o">*</span><span class="mi">32</span><span class="o">*</span><span class="n">prop_class</span><span class="o">.</span><span class="n">r_prop</span><span class="o">**</span><span class="mi">5</span><span class="o">/</span><span class="mf">1e3</span>

        <span class="n">Z_thrust</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s2">&quot;thrust&quot;</span><span class="p">]</span>
        <span class="n">Z_eff</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">res</span><span class="p">[</span><span class="s2">&quot;eff&quot;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span>
        <span class="n">Z_power</span><span class="p">[</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span>  <span class="n">power_req</span>


<span class="c1"># Create the figure</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">go</span><span class="o">.</span><span class="n">Surface</span><span class="p">(</span><span class="n">z</span><span class="o">=</span><span class="n">Z_thrust</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">Y</span><span class="p">)])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">scene</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;RPM&#39;</span><span class="p">,</span>
        <span class="n">yaxis_title</span><span class="o">=</span> <span class="s1">&#39;Delta pitch [deg]&#39;</span><span class="p">,</span>
        <span class="n">zaxis_title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Thrust [N]&#39;</span><span class="p">))</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">scene_camera</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">eye</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">1.8</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.8</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mf">1.8</span><span class="p">)))</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Thrust plot </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1"> x </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1"> mesh &#39;</span><span class="p">,</span> <span class="n">autosize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">90</span><span class="p">))</span>

<span class="c1"># Show the plot</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../propulsion_notebook.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Propulsion Notebook</p>
      </div>
    </a>
    <a class="right-next"
       href="../structural_analysis.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Structural Analysis</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Preliminary sizing of a rotor blade</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#defining-the-conditions">Defining the conditions</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#running-the-optimisation">Running the optimisation</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#offdesign-analysis">Offdesign analysis</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#hover-example">Hover example</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sources">Sources</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#finding-the-max-thrust-of-a-blade">Finding the max thrust of a blade</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#iteration-of-the-rotor-design">Iteration of the rotor design.</a></li>
</ul>

  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/notebooks/prop_sizing.ipynb.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024-, Damien Keijzer,, Saullo G. P. Castro.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>